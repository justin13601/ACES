predicates:
  admission:
    column: event_type
    value: ADMISSION
  discharge:
    column: event_type
    value: DISCHARGE
  death:
    column: event_type
    value: DEATH
  diagnosis:
    column: event_type
    value: DIAGNOSIS
  age_above_70:
    column: age
    value: 
      - min: 70
        max: 
  discharge_or_death:
    type: ANY
    predicates: [discharge, death]

windows:
  trigger:
    start: admission
    duration:
    offset:
    end: admission
    excludes:
    includes: 
      - predicate: admission
        min: 1
        max: 1
      - predicate: age_above_70
        min: 1
        max: 1
    st_inclusive: False
    end_inclusive: True
  target:
    start: gap.end
    duration: 
    offset:
    end: discharge_or_death
    excludes:
    includes: 
      - predicate: discharge_or_death
        min: 1
        max: 1
    st_inclusive: False
    end_inclusive: True
    label: death
  input:
    start:
    duration: 7 days
    offset:
    end: trigger.start + offset
    excludes: [diagnosis]
    includes: 
      - predicate: any
        min: 10
        max:
    st_inclusive: False
    end_inclusive: True
